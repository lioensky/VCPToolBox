{
  "manifestVersion": "1.0.0",
  "name": "PyCameraCapture",
  "version": "1.0.0",
  "displayName": "Python摄像头插件",
  "description": "一个使用Python和OpenCV从摄像头捕获图像的同步插件。",
  "author": "Cline",
  "pluginType": "synchronous",
  "entryPoint": {
    "type": "python",
    "command": "python capture.py"
  },
  "communication": {
    "protocol": "stdio",
    "timeout": 90000
  },
  "configSchema": {
    "PROCESSING_MODE": {
      "type": "string",
      "description": "设置插件的处理模式。full_analysis: 完整分析(默认); direct_to_ai: 直接发送给对话AI; capture_only: 仅拍摄。",
      "enum": ["full_analysis", "direct_to_ai", "capture_only"],
      "default": "full_analysis"
    },
    "SAVE_PATH": {
      "type": "string",
      "description": "照片存储路径。路径是相对于插件目录(Plugin/PyCameraCapture/)的相对路径(如 ../../image/captures/)或绝对路径(如 D:/MyCaptures/)。",
      "default": ""
    }
  },
  "capabilities": {
    "invocationCommands": [
      {
        "commandIdentifier": "CaptureImage",
        "description": "调用此工具从你的电脑摄像头捕获一张图片。\n参数:\n- camera_index (数字, 可选, 默认 0): 摄像头的索引号。如果你的电脑有多个摄像头，可以尝试 0, 1, 2, ...\n调用格式:\n<<<[TOOL_REQUEST]>>>\ntool_name:「始」PyCameraCapture「末」,\ncamera_index:「始」0「末」\n<<<[END_TOOL_REQUEST]>>>",
        "example": "<<<[TOOL_REQUEST]>>>\ntool_name:「始」PyCameraCapture「末」\n<<<[END_TOOL_REQUEST]>>>"
      }
    ]
  }
}
