{
  "manifestVersion": "1.0.0",
  "name": "BilibiliFetch",
  "displayName": "Bilibili 内容获取插件",
  "version": "0.1.0",
  "description": "根据 Bilibili URL 获取视频信息、字幕、弹幕、评论及快照截图。",
  "author": "Roo",
  "pluginType": "synchronous",
  "entryPoint": {
    "type": "python",
    "command": "python BilibiliFetch.py"
  },
  "communication": {
    "protocol": "stdio",
    "timeout": 30000
  },
  "configSchema": {
    "BILIBILI_COOKIE": "string"
  },
  "capabilities": {
    "invocationCommands": [
      {
        "commandIdentifier": "BilibiliFetch",
        "description": "调用此工具获取 Bilibili 视频信息（标题、作者）、字幕、热门弹幕、热门评论以及视频特定时间点的快照截图。支持长链接和 b23.tv 短链接。请在您的回复中，使用以下精确格式来请求，确保所有参数值都用「始」和「末」准确包裹：\n<<<[TOOL_REQUEST]>>>\ntool_name:「始」BilibiliFetch「末」,\nurl:「始」(必需) Bilibili 视频的 URL (支持 b23.tv 短链接)。「末」,\nlang:「始」(可选) 字幕语言代码, 例如 'ai-zh' 或 'ai-en'。如果未提供，将默认尝试获取中文字幕。「末」,\ndanmaku_num:「始」(可选) 获取热门弹幕的数量，默认为 0。「末」,\ncomment_num:「始」(可选) 获取热门评论的数量，默认为 0。「末」,\nsnapshots:「始」(获取字幕后使用) 想要查看快照的时间点（秒），多个时间点用逗号分隔，例如 '10,60,120'通常在获取字幕（含时间）之后使用，用来获取高密度重要时间点的快照截图。「末」,\nneed_subs:「始」(可选) 是否需要获取字幕，默认为 true。如果您只想获取快照请设置为 false。「末」\n<<<[END_TOOL_REQUEST]>>>\n\n重要提示给AI：\n1. 插件会返回包含视频元数据、社交内容以及快照图片的文本响应。\n2. 快照截图会以 HTML <img> 标签的形式包含在返回结果中，请务必将其原样展示给用户以便渲染。",
        "example": "```text\n<<<[TOOL_REQUEST]>>>\ntool_name:「始」BilibiliFetch「末」,\nurl:「始」https://b23.tv/b6PME73「末」,\ndanmaku_num:「始」10「末」,\ncomment_num:「始」5「末」,\nsnapshots:「始」15,45「末」,\nneed_subs:「始」false「末」\n<<<[END_TOOL_REQUEST]>>>\n```"
      }
    ]
  }
}